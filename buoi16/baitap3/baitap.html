<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>

<script>
    class Mobile {
        constructor() {
            this.battery = 100;  // Trạng thái pin, tối đa 100
            this.isOn = false;   // Biến kiểm tra điện thoại bật/tắt
            this.draft = "";     // Tin nhắn đang soạn thảo
            this.inbox = [];     // Danh sách tin nhắn nhận được
            this.sentMessages = []; // Danh sách tin nhắn đã gửi
        }

        turnOn() {
            if (this.battery > 0) {
                this.isOn = true;
                console.log("Điện thoại đã bật.");
            } else {
                console.log("Pin yếu, không thể bật điện thoại!");
            }
        }

        turnOff() {
            this.isOn = false;
            console.log("Điện thoại đã tắt.");
        }

        chargeBattery() {
            this.battery = 100;
            console.log("Pin đã được sạc đầy.");
        }

        writeMessage(message) {
            if (!this.isOn) {
                console.log("Điện thoại đang tắt!");
                return;
            }
            this.draft = message;
            this.battery--;
            console.log("Tin nhắn đã soạn: " + message);
        }

        sendMessage(receiver) {
            if (!this.isOn) {
                console.log("Điện thoại đang tắt!");
                return;
            }
            if (this.draft === "") {
                console.log("Không có tin nhắn để gửi!");
                return;
            }
            this.sentMessages.push(this.draft);  // Lưu tin nhắn vào danh sách đã gửi
            receiver.receiveMessage(this.draft); // Gửi tin nhắn cho đối tượng Mobile khác
            console.log("Đã gửi tin nhắn: " + this.draft);
            this.draft = "";  // Xóa tin nhắn đang soạn sau khi gửi
            this.battery--;   // Giảm pin đi 1 đơn vị
        }

        receiveMessage(message) {
            if (!this.isOn) {
                console.log("Điện thoại đang tắt! Không thể nhận tin nhắn.");
                return;
            }
            this.inbox.push(message);
            console.log("Tin nhắn mới: " + message);
            this.battery--;
        }

        viewInbox() {
            if (!this.isOn) {
                console.log("Điện thoại đang tắt!");
                return;
            }
            console.log("Hộp thư đến: ", this.inbox);
            this.battery--;
        }

        viewSentMessages() {
            if (!this.isOn) {
                console.log("Điện thoại đang tắt!");
                return;
            }
            console.log("Tin nhắn đã gửi: ", this.sentMessages);
            this.battery--;
        }
    }

    const Nokia  = new Mobile();
    const iPhone = new Mobile();

    Nokia.turnOn();
    iPhone.turnOn();

    Nokia.writeMessage("Xin chào!");
    Nokia.sendMessage(iPhone);

    iPhone.viewInbox();  // B kiểm tra hộp thư đến
    Nokia.viewSentMessages(); // A kiểm tra tin nhắn đã gửi
    console.log("Pin điện thoại Nokia còn lại là: " + Nokia.battery);

</script>